---
import "../styles/global.css";

export interface Props {
  title?: string;
  description?: string;
  ogImage?: string;
  ogType?: string;
  canonicalURL?: string;
}

const {
  title = "AskMajinn — Your Creative Command Center",
  description = "Welcome to AskMajinn — hub for creative talents, AI prompts, and digital innovation. Explore design, web projects, and cutting-edge AI content.",
  ogImage = "/assets/og-default.jpg",
  ogType = "website",
  canonicalURL = Astro.url.href
} = Astro.props;

const siteName = "AskMajinn";
const fullTitle = title === siteName ? title : `${title} | ${siteName}`;
---

<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <!-- Primary Meta Tags -->
    <title>{fullTitle}</title>
    <meta name="title" content={fullTitle} />
    <meta name="description" content={description} />
    <link rel="canonical" href={canonicalURL} />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content={ogType} />
    <meta property="og:url" content={canonicalURL} />
    <meta property="og:title" content={fullTitle} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={new URL(ogImage, Astro.url)} />
    <meta property="og:site_name" content={siteName} />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content={canonicalURL} />
    <meta property="twitter:title" content={fullTitle} />
    <meta property="twitter:description" content={description} />
    <meta property="twitter:image" content={new URL(ogImage, Astro.url)} />
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    
    <!-- Theme -->
    <meta name="theme-color" content="#00e5ff" />
    <meta name="color-scheme" content="dark" />
    
    <!-- Preload critical fonts -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    
    <!-- SEO -->
    <meta name="robots" content="index, follow" />
    <meta name="author" content="Majinn" />
    <meta name="generator" content={Astro.generator} />
    
    <!-- Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Majinn",
        "url": "https://askmajinn.com",
        "sameAs": [
          "https://twitter.com/askmajinn",
          "https://instagram.com/askmajinn",
          "https://linkedin.com/in/majinn"
        ],
        "jobTitle": "Creative Director & AI Prompt Engineer",
        "worksFor": {
          "@type": "Organization",
          "name": "AskMajinn"
        }
      }
    </script>
  </head>
  
  <body class="bg-slate-950 text-slate-50 min-h-screen antialiased">
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-cyan-400 text-black px-4 py-2 rounded-lg z-50">
      Skip to main content
    </a>
    
    <!-- Header -->
    <header class="fixed top-0 left-0 right-0 z-40 glass border-b border-white/10">
      <nav class="container-custom py-4" aria-label="Main navigation">
        <div class="flex items-center justify-between">
          <!-- Logo -->
          <a href="/" class="text-2xl font-bold text-gradient hover:scale-105 transition-transform duration-200">
            AskMajinn
          </a>
          
          <!-- Desktop Navigation -->
          <div class="hidden md:flex items-center space-x-8">
            <a href="/portfolio" class="nav-link">Portfolio</a>
            <a href="/prompts" class="nav-link">Prompts</a>
            <a href="/learn" class="nav-link">Learn</a>
            <a href="/about" class="nav-link">About</a>
            <a href="/connect" class="nav-link">Connect</a>
            <a href="/contact" class="btn btn-primary">Contact</a>
          </div>
          
          <!-- Mobile Menu Button -->
          <button 
            id="mobile-menu-button"
            class="md:hidden p-2 text-slate-300 hover:text-cyan-400 focus-ring rounded-lg"
            aria-label="Toggle mobile menu"
            aria-expanded="false"
          >
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
          </button>
        </div>
        
        <!-- Mobile Navigation -->
        <div id="mobile-menu" class="hidden md:hidden mt-4 pb-4 border-t border-white/10">
          <div class="flex flex-col space-y-3 pt-4">
            <a href="/portfolio" class="nav-link">Portfolio</a>
            <a href="/prompts" class="nav-link">Prompts</a>
            <a href="/learn" class="nav-link">Learn</a>
            <a href="/about" class="nav-link">About</a>
            <a href="/connect" class="nav-link">Connect</a>
            <a href="/contact" class="btn btn-primary w-fit">Contact</a>
          </div>
        </div>
      </nav>
    </header>
    
    <!-- Main Content -->
    <main id="main-content" class="pt-20">
      <slot />
    </main>
    
    <!-- Footer -->
    <footer class="border-t border-white/10 bg-slate-900/50 mt-16">
      <div class="container-custom py-12">
        <div class="grid md:grid-cols-4 gap-8">
          <!-- Brand -->
          <div class="space-y-4">
            <div class="text-2xl font-bold text-gradient">AskMajinn</div>
            <p class="text-slate-400 text-sm">
              Your creative command center for design, AI prompts, and digital innovation.
            </p>
          </div>
          
          <!-- Quick Links -->
          <div class="space-y-4">
            <h3 class="font-semibold text-slate-200">Explore</h3>
            <div class="flex flex-col space-y-2 text-sm">
              <a href="/portfolio" class="text-slate-400 hover:text-cyan-400 transition-colors">Portfolio</a>
              <a href="/prompts" class="text-slate-400 hover:text-cyan-400 transition-colors">Prompt Forum</a>
              <a href="/learn" class="text-slate-400 hover:text-cyan-400 transition-colors">Learn</a>
              <a href="/about" class="text-slate-400 hover:text-cyan-400 transition-colors">About</a>
            </div>
          </div>
          
          <!-- Connect -->
          <div class="space-y-4">
            <h3 class="font-semibold text-slate-200">Connect</h3>
            <div class="flex flex-col space-y-2 text-sm">
              <a href="/connect" class="text-slate-400 hover:text-cyan-400 transition-colors">All Links</a>
              <a href="/contact" class="text-slate-400 hover:text-cyan-400 transition-colors">Contact</a>
              <a href="mailto:AskMajinn@gmail.com" class="text-slate-400 hover:text-cyan-400 transition-colors">Email</a>
            </div>
          </div>
          
          <!-- Newsletter -->
          <div class="space-y-4">
            <h3 class="font-semibold text-slate-200">Stay Updated</h3>
            <p class="text-slate-400 text-sm">Get the latest prompts and tutorials.</p>
            <a 
              href="mailto:AskMajinn@gmail.com?subject=Newsletter%20Subscription&body=Hi%20Majinn%2C%0A%0AI%27d%20like%20to%20subscribe%20to%20your%20newsletter%20for%20the%20latest%20prompts%20and%20tutorials.%0A%0AName%3A%20%0AEmail%3A%20%0A%0AThanks%21"
              class="btn btn-secondary w-full text-sm"
            >
              Subscribe via Email
            </a>
          </div>
        </div>
        
        <!-- Bottom Bar -->
        <div class="flex flex-col md:flex-row justify-between items-center pt-8 mt-8 border-t border-white/10 text-sm text-slate-400">
          <p>&copy; 2025 AskMajinn. All rights reserved.</p>
          <p>Powered by <a href="https://MM-Mastery.com" class="text-cyan-400 hover:text-cyan-300 transition-colors">MM-Mastery.com</a></p>
        </div>
      </div>
    </footer>
    
    <!-- Mobile Menu Script -->
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        
        if (mobileMenuButton && mobileMenu) {
          mobileMenuButton.addEventListener('click', () => {
            const isExpanded = mobileMenuButton.getAttribute('aria-expanded') === 'true';
            mobileMenuButton.setAttribute('aria-expanded', (!isExpanded).toString());
            mobileMenu.classList.toggle('hidden');
          });
        }
        
        // Close mobile menu when clicking outside
        document.addEventListener('click', (e) => {
          if (mobileMenu && !mobileMenu.contains(e.target as Node) && 
              !mobileMenuButton?.contains(e.target as Node)) {
            mobileMenu.classList.add('hidden');
            mobileMenuButton?.setAttribute('aria-expanded', 'false');
          }
        });
      });
    </script>
  </body>
</html>